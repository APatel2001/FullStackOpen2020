{"version":3,"sources":["components/Filter.js","components/Persons.js","components/PersonForm.js","services/backend.js","components/notification.js","App.js","index.js"],"names":["Filter","search","searchFunction","value","onChange","Persons","original","searched","Delete","map","item","key","id","name","number","onClick","PersonForm","entryFunction","nameFunction","numberFunction","onSubmit","type","baseUrl","axios","get","then","response","data","post","delete","object","put","Notification","message","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","changeSearch","errorMessage","setErrorMesage","addedMessage","setAddedMessage","useEffect","backend","filter","nameSearch","toLowerCase","includes","event","target","preventDefault","find","numSearch","console","log","person","changedItem","i","setTimeout","catch","error","concat","deleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.580300f3.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({search, searchFunction}) => {\n    return (\n        <div>\n            filter shown with <input value={search} onChange={searchFunction}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Persons = ({original, searched, search, Delete}) => {\n    \n    return (\n        <div>\n            {search === '' \n                ? original.map(item => \n                    <p key={item.id}>\n                        {item.name} {item.number} {\" \"}\n                        <button onClick={() => {Delete(item.id)}}>delete</button>\n                    </p>\n                ) \n                : searched.map(item => \n                    <p key={item.id}>\n                        {item.name} {item.number} {\" \"}\n                        <button onClick={() => Delete(item.id)}>delete</button>\n                    </p>\n                )\n            }\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({entryFunction, name, nameFunction, number, numberFunction}) => {\n    return (\n        <form onSubmit={entryFunction}>\n            <div>\n                name: <input value={name} onChange={nameFunction}/>\n            </div>\n            <div>\n                number: <input value={number} onChange={numberFunction} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst gettAll = () => {\n    return axios.get(baseUrl).then(response => response.data)\n}\n\nconst addItem = (item) => {\n    return axios.post(baseUrl, item).then(response => response.data)\n}\n\nconst deleteItem = (id) => {\n    return axios.delete(baseUrl + `/${id}`)\n}\n\nconst updateItem = (id, object) => {\n    return axios.put(baseUrl + `/${id}`, object).then(response => response.data)\n}\n\n\n\n\nexport default {gettAll, addItem, deleteItem, updateItem}\n","import React from 'react'\n\nconst Notification = ({message, color}) => {\n    const messageStyle = {\n        color: color,\n        background: \"lightgrey\",\n        fontSize: 20,\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n\n    if (message === null) {\n        return null\n    }\n    return (\n        <div style={messageStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport backend from './services/backend'\nimport Notification from './components/notification'\n\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber] = useState('')\n    const [search, changeSearch] = useState('')\n    const [errorMessage, setErrorMesage] = useState(null)\n    const [addedMessage, setAddedMessage] = useState(null)\n\n\n    useEffect(() => {\n        backend\n            .gettAll()\n            .then(response => setPersons(response))\n      }, [])\n\n    const nameSame = persons.filter(item => item.name === newName)\n    const nameSearch = persons.filter(item => item.name.toLowerCase().includes(search.toLowerCase()))\n    const addName = (event) => {\n        event.preventDefault()\n        const nameSearch = persons.find(item => item.name === newName)\n        const numSearch = persons.find(item => (item.number === newNumber && item.name === newName))\n        console.log(\"NAME:\", nameSearch)\n        console.log(\"NAME:\", !nameSearch)\n\n        if (!nameSearch && !numSearch) {\n            console.log(\"GOT HERE\")\n            const newObject = {\n                name: newName,\n                number: newNumber\n            }\n            backend\n                .addItem(newObject)\n                .then(response => {\n                    setPersons(persons.concat(response))\n                    setAddedMessage(`Added ${newName}`)\n                    setTimeout(() => {setAddedMessage(null)}, 5000)\n                    setNewName('')\n                    setNewNumber('')\n                })\n                \n                .catch(error => {\n                    setErrorMesage(error.response.data.error)\n                    setTimeout(() => {setErrorMesage(null)}, 5000)\n                    \n                })\n        } else if (nameSearch && !numSearch) {\n            console.log(\"GOT HERE\")\n            const item = persons.find(person => person.name === newName)\n            const changedItem = {...item, number: newNumber}\n            backend\n                .updateItem(item.id, changedItem)\n                .then(response => {\n                    setPersons(persons.map(i => i.id !== item.id ? i : response))\n                    setAddedMessage(`Changed ${newName}'s Phone Number`)\n                    setTimeout(() => {setAddedMessage(null)}, 5000)\n                })\n                .catch(error => {\n                    setErrorMesage(error.response.data.error)\n                    setTimeout(() => {setErrorMesage(null)}, 5000)\n                })\n        } else if (nameSearch && numSearch) {\n            console.log(\"GOT HERE\")\n            console.log(persons)\n            setErrorMesage(`${newName} is already added to phonebook, replace the old number with a new one?`)\n            setTimeout(() => {setErrorMesage(null)}, 5000)\n        }\n    \n    }\n\n    \n    const nameHandler = (event) => {\n        setNewName(event.target.value)\n    }\n    const numberHandler = (event) => {\n        setNewNumber(event.target.value)\n    }\n    const searchHandler = (event) => {\n        changeSearch(event.target.value)\n    }\n\n    const Delete = (id) => {\n        const deleted = persons.find(item => item.id === id)\n        backend.deleteItem(id).then(() => {\n            setPersons(persons.filter(item => item.id !== id))\n        })\n        .catch(error => {\n            setErrorMesage(`${deleted.name} was already removed from the server`)\n            setPersons(persons.filter(item => item.id !== id))\n            setTimeout(() => {setErrorMesage(null)}, 5000)\n        })\n    }\n    \n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={addedMessage} color={\"green\"}/>\n            <Notification message={errorMessage} color={\"red\"}/>\n            <Filter search={search} searchFunction={searchHandler} />\n            <h2>Add New</h2>\n            <PersonForm entryFunction={addName} name={newName} nameFunction={nameHandler} number={newNumber} numberFunction={numberHandler}/>\n            <h2>Numbers</h2>\n            <Persons search={search} original={persons} searched={nameSearch} Delete={Delete}/>\n        </div>\n    )\n}\n\nexport default App","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App.js'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}